{"version":3,"sources":["webpack:///./src/views/consensus/NewConsensus.vue?bb2c","webpack:///src/views/consensus/NewConsensus.vue","webpack:///./src/views/consensus/NewConsensus.vue?eec8","webpack:///./src/views/consensus/NewConsensus.vue?50e8","webpack:///./src/components/BackBar.vue?895b","webpack:///./src/components/BackBar.vue?9b89","webpack:///src/components/BackBar.vue","webpack:///./src/components/BackBar.vue?cff0","webpack:///./src/components/BackBar.vue?361d","webpack:///./src/views/consensus/NewConsensus.vue?d470"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","backTitle","$t","_v","_s","ref","model","createrForm","rules","createrRules","label","disabled","value","addressInfo","callback","$$v","$set","trim","expression","prop","maxlength","agentAsset","symbol","balanceInfo","balance","placement","slot","type","isRed","on","click","$event","submitForm","passwordSubmit","passSubmit","title","visible","newConsensusVisible","width","update:visible","address","rewardAddress","blockAddress","rate","amount","confiremSubmit","staticRenderFns","NewConsensusvue_type_script_lang_js_","data","_this","checkRewardAddress","rule","patrn","length","nuls_sdk_js_default","a","verifyAddress","right","$refs","validateField","Error","checkBlockAddress","checkAmount","re","res","exec","checkRate","JSON","parse","sessionStorage","getItem","validator","trigger","prefix","getNewConsensusRandomString","sendNewConsensusRandomString","created","_this2","Object","requestData","util","then","response","catch","err","console","log","setInterval","mounted","_this3","setTimeout","getPunishByAddress","getBalanceByAddress","chainId","assetId","watch","val","old","components","Password","PasswordBar","BackBar","methods","_submitForm","asyncToGenerator","regeneratorRuntime","mark","_callee","formName","_this4","wrap","_context","prev","next","validate","valid","stop","_x","apply","arguments","assetChainId","_this5","success","$message","message","duration","error","_this6","$post","result","list","_confiremSubmit","_callee2","assembleHex","commitDatas","_context2","aesPri","sent","newConsensusAssemble","abrupt","stringify","password","showScan","txInfo","showPassword","_passSubmit","_callee3","tAssemble","pri","newAddressInfo","txhex","_this7","_context3","decrypteOfAES","importByKey","transactionSerialize","pub","$router","push","name","code","_x2","_newConsensusAssemble","_callee4","transferInfo","inOrOutputs","agent","_context4","fromAddress","assetsChainId","assetsId","Number","toString","fee","agentAddress","packingAddress","commissionRate","deposit","transactionAssemble","inputs","outputs","consensus_NewConsensusvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BackBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BackBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","backUrl","back","BackBarvue_type_script_lang_js_","props","String","default","backParams","go","components_BackBarvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewConsensus_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewConsensus_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-24815d76.8f3669e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new_consensus bg-gray\"},[_c('div',{staticClass:\"bg-white\"},[_c('div',{staticClass:\"w1200\"},[_c('BackBar',{attrs:{\"backTitle\":_vm.$t('nav.consensus')}}),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('newConsensus.newConsensus0')))])],1)]),_c('div',{staticClass:\"w1200 bg-white mt_20\"},[_c('el-form',{ref:\"createrForm\",attrs:{\"model\":_vm.createrForm,\"rules\":_vm.createrRules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('public.createAddress')}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.addressInfo.address),callback:function ($$v) {_vm.$set(_vm.addressInfo, \"address\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addressInfo.address\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('public.rewardAddress'),\"prop\":\"rewardAddress\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.createrForm.rewardAddress),callback:function ($$v) {_vm.$set(_vm.createrForm, \"rewardAddress\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"createrForm.rewardAddress\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('public.packingAddress'),\"prop\":\"blockAddress\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.createrForm.blockAddress),callback:function ($$v) {_vm.$set(_vm.createrForm, \"blockAddress\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"createrForm.blockAddress\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('public.deposit') + '('+_vm.agentAsset.agentAsset.symbol+')',\"prop\":\"amount\"}},[_c('span',{staticClass:\"balance font12 fr\"},[_vm._v(_vm._s(_vm.$t('consensus.consensus2'))+\": \"+_vm._s(_vm.balanceInfo.balance/100000000))]),_c('el-input',{model:{value:(_vm.createrForm.amount),callback:function ($$v) {_vm.$set(_vm.createrForm, \"amount\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"createrForm.amount\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('public.commission') + '(%)',\"prop\":\"rate\"}},[_c('el-input',{model:{value:(_vm.createrForm.rate),callback:function ($$v) {_vm.$set(_vm.createrForm, \"rate\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"createrForm.rate\"}})],1),_c('div',{staticClass:\"font14\"},[_c('el-tooltip',{attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(_vm.$t('transfer.transfer5')))]),_c('i',{staticClass:\"el-icon-warning\"})]),_vm._v(\"\\n        \"+_vm._s(_vm.$t('public.fee'))+\": 0.001 \"),_c('span',{staticClass:\"fCN\"},[_vm._v(_vm._s(_vm.agentAsset.agentAsset.symbol))])],1),_c('el-form-item',{staticClass:\"form-next\"},[_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.isRed},on:{\"click\":function($event){return _vm.submitForm('createrForm')}}},[_vm._v(_vm._s(_vm.$t('password.password3'))+\"\\n        \")])],1)],1)],1),_c('Password',{ref:\"password\",on:{\"passwordSubmit\":_vm.passSubmit}}),_c('el-dialog',{staticClass:\"confirm-dialog\",attrs:{\"title\":_vm.$t('newConsensus.newConsensus1'),\"visible\":_vm.newConsensusVisible,\"width\":\"40rem\"},on:{\"update:visible\":function($event){_vm.newConsensusVisible=$event}}},[_c('div',{staticClass:\"bg-white\"},[_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.createAddress'))+\": \")]),_c('label',[_vm._v(_vm._s(_vm.addressInfo.address))])]),_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.rewardAddress'))+\": \")]),_c('label',[_vm._v(_vm._s(_vm.createrForm.rewardAddress))])]),_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.packingAddress'))+\": \")]),_c('label',[_vm._v(_vm._s(_vm.createrForm.blockAddress))])]),_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.commission'))+\": \")]),_c('label',{staticClass:\"yellow\"},[_vm._v(_vm._s(_vm.createrForm.rate)+\"% \")])]),_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.deposit'))+\": \")]),_c('label',{staticClass:\"yellow\"},[_vm._v(_vm._s(_vm.createrForm.amount)+\" \"),_c('span',{staticClass:\"fCN\"},[_vm._v(_vm._s(_vm.agentAsset.agentAsset.symbol))])])]),_c('div',{staticClass:\"div-data\"},[_c('p',[_vm._v(_vm._s(_vm.$t('public.fee'))+\": \")]),_c('label',[_vm._v(\"0.001 \"),_c('span',{staticClass:\"fCN\"},[_vm._v(_vm._s(_vm.agentAsset.agentAsset.symbol))])])])]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.newConsensusVisible = false}}},[_vm._v(_vm._s(_vm.$t('password.password2')))]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.confiremSubmit}},[_vm._v(_vm._s(_vm.$t('transfer.transfer8')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"new_consensus bg-gray\">\n\n    <div class=\"bg-white\">\n      <div class=\"w1200\">\n        <BackBar :backTitle=\"$t('nav.consensus')\"></BackBar>\n        <h3 class=\"title\">{{$t('newConsensus.newConsensus0')}}</h3>\n      </div>\n    </div>\n\n    <div class=\"w1200 bg-white mt_20\">\n      <el-form :model=\"createrForm\" :rules=\"createrRules\" ref=\"createrForm\">\n        <el-form-item :label=\"$t('public.createAddress')\">\n          <el-input v-model.trim=\"addressInfo.address\" disabled>\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('public.rewardAddress')\" prop=\"rewardAddress\">\n          <el-input v-model.trim=\"createrForm.rewardAddress\" maxlength=\"50\">\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('public.packingAddress')\" prop=\"blockAddress\">\n          <el-input v-model.trim=\"createrForm.blockAddress\" maxlength=\"50\">\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('public.deposit') + '('+agentAsset.agentAsset.symbol+')'\" prop=\"amount\">\n          <span class=\"balance font12 fr\">{{$t('consensus.consensus2')}}: {{balanceInfo.balance/100000000}}</span>\n          <el-input v-model.trim=\"createrForm.amount\">\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('public.commission') + '(%)'\" prop=\"rate\">\n          <el-input v-model.trim=\"createrForm.rate\">\n          </el-input>\n        </el-form-item>\n        <div class=\"font14\">\n          <el-tooltip placement=\"top\">\n            <div slot=\"content\">{{$t('transfer.transfer5')}}</div>\n            <i class=\"el-icon-warning\"></i>\n          </el-tooltip>\n          {{$t('public.fee')}}: 0.001 <span class=\"fCN\">{{agentAsset.agentAsset.symbol}}</span>\n        </div>\n        <el-form-item class=\"form-next\">\n          <el-button type=\"success\" @click=\"submitForm('createrForm')\" :disabled=\"isRed\">{{$t('password.password3')}}\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <Password ref=\"password\" @passwordSubmit=\"passSubmit\">\n    </Password>\n    <el-dialog :title=\"$t('newConsensus.newConsensus1')\" :visible.sync=\"newConsensusVisible\" width=\"40rem\"\n               class=\"confirm-dialog\">\n      <div class=\"bg-white\">\n        <div class=\"div-data\">\n          <p>{{$t('public.createAddress')}}:&nbsp;</p>\n          <label>{{addressInfo.address}}</label>\n        </div>\n        <div class=\"div-data\">\n          <p>{{$t('public.rewardAddress')}}:&nbsp;</p>\n          <label>{{createrForm.rewardAddress}}</label>\n        </div>\n        <div class=\"div-data\">\n          <p>{{$t('public.packingAddress')}}:&nbsp;</p>\n          <label>{{createrForm.blockAddress}}</label>\n        </div>\n        <div class=\"div-data\">\n          <p>{{$t('public.commission')}}:&nbsp;</p>\n          <label class=\"yellow\">{{createrForm.rate}}% </label>\n        </div>\n        <div class=\"div-data\">\n          <p>{{$t('public.deposit')}}:&nbsp;</p>\n          <label class=\"yellow\">{{createrForm.amount}} <span\n                  class=\"fCN\">{{agentAsset.agentAsset.symbol}}</span></label>\n        </div>\n        <div class=\"div-data\">\n          <p>{{$t('public.fee')}}:&nbsp;</p>\n          <label>0.001 <span class=\"fCN\">{{agentAsset.agentAsset.symbol}}</span></label>\n        </div>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"newConsensusVisible = false\">{{$t('password.password2')}}</el-button>\n        <el-button type=\"success\" @click=\"confiremSubmit\">{{$t('transfer.transfer8')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import nuls from 'nuls-sdk-js'\n  import {\n    getNulsBalance,\n    inputsOrOutputs,\n    validateAndBroadcast,\n    getPrefixByChainId,\n    commitData\n  } from '@/api/requestData'\n  import {Times, addressInfo, chainID, getRamNumber} from '@/api/util'\n  import Password from '@/components/PasswordBar'\n  import BackBar from '@/components/BackBar'\n\n  export default {\n    data() {\n      let checkRewardAddress = (rule, value, callback) => {\n        let patrn = {};\n        if (value && value.length > 5) {\n          patrn = nuls.verifyAddress(value);\n        }\n        if (!value) {\n          return callback(new Error(this.$t('newConsensus.newConsensus2')));\n        } else if (!patrn.right) {\n          return callback(new Error(this.$t('newConsensus.newConsensus21')))\n        } else {\n          this.$refs.createrForm.validateField('blockAddress');\n          callback();\n        }\n      };\n      let checkBlockAddress = (rule, value, callback) => {\n        let patrn = {};\n        if (value && value.length > 5) {\n          patrn = nuls.verifyAddress(value);\n        }\n        if (!value) {\n          return callback(new Error(this.$t('newConsensus.newConsensus3')));\n        } else if (value === this.addressInfo.address) {\n          return callback(new Error(this.$t('newConsensus.newConsensus4')));\n        } else if (!patrn.right) {\n          return callback(new Error(this.$t('newConsensus.newConsensus31')))\n        } else {\n          callback();\n        }\n      };\n      let checkAmount = (rule, value, callback) => {\n        let re = /^\\d+(?=\\.{0,1}\\d+$|$)/;\n        let res = /^\\d{1,8}(\\.\\d{1,8})?$/;\n        let balance = this.balanceInfo.balance - value * 100000000;\n        if (!value) {\n          return callback(new Error(this.$t('newConsensus.newConsensus5')));\n        } else if (!re.exec(value) || !res.exec(value)) {\n          callback(new Error(this.$t('newConsensus.newConsensus6')));\n        } else if (balance < 0.001) {\n          callback(new Error(this.$t('newConsensus.newConsensus7')));\n        } else if (value < 20000 || value > 200000) {\n          callback(new Error(this.$t('newConsensus.newConsensus8')));\n        } else {\n          callback();\n        }\n      };\n      let checkRate = (rule, value, callback) => {\n        let res = /^([1]?\\d{1,2})$/;\n        if (!value) {\n          return callback(new Error(this.$t('newConsensus.newConsensus9')));\n        } else if (!res.exec(value)) {\n          callback(new Error(this.$t('newConsensus.newConsensus10')));\n        } else if (value < 10 || value > 100) {\n          callback(new Error(this.$t('newConsensus.newConsensus11')));\n        } else {\n          callback();\n        }\n      };\n      return {\n        addressInfo: {},//账户信息\n        balanceInfo: {},//账户余额信息\n        agentAsset: JSON.parse(sessionStorage.getItem('info')),//pocm合约单位等信息\n        isRed: false,//创建地址是否有红牌惩罚\n        //创建节点表单\n        createrForm: {\n          rewardAddress: '',\n          blockAddress: '',\n          amount: '',\n          rate: '',\n        },\n        createrRules: {\n          rewardAddress: [\n            {validator: checkRewardAddress, trigger: ['blur', 'change']},\n          ],\n          blockAddress: [\n            {validator: checkBlockAddress, trigger: ['blur', 'change']},\n          ],\n          amount: [\n            {validator: checkAmount, trigger: ['blur', 'change']}\n          ],\n          rate: [\n            {validator: checkRate, trigger: ['blur', 'change']}\n          ],\n        },\n        newConsensusVisible: false,//创建节点确认弹框\n        prefix: '',//地址前缀\n        getNewConsensusRandomString: '',\n        sendNewConsensusRandomString: '',\n      };\n    },\n    created() {\n      getPrefixByChainId(chainID()).then((response) => {\n        //console.log(response);\n        this.prefix = response\n      }).catch((err) => {\n        console.log(err);\n        this.prefix = '';\n      });\n      this.addressInfo = addressInfo(1);\n      setInterval(() => {\n        this.addressInfo = addressInfo(1);\n      }, 500);\n    },\n    mounted() {\n      setTimeout(() => {\n        this.getPunishByAddress(this.addressInfo.address);\n        this.getBalanceByAddress(this.agentAsset.agentAsset.chainId, this.agentAsset.agentAsset.assetId, this.addressInfo.address);\n      }, 600);\n    },\n    watch: {\n      addressInfo(val, old) {\n        if (val) {\n          if (val.address !== old.address && old.address) {\n            this.getPunishByAddress(this.addressInfo.address);\n            this.getBalanceByAddress(this.agentAsset.agentAsset.chainId, this.agentAsset.agentAsset.assetId, this.addressInfo.address);\n          }\n        }\n      }\n    },\n    components: {\n      Password,\n      BackBar,\n    },\n    methods: {\n\n      /**\n       * 创建节点提交\n       * @param formName\n       **/\n      async submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.newConsensusVisible = true;\n          } else {\n            return false;\n          }\n        });\n      },\n\n      /**\n       * 获取账户余额\n       * @param assetChainId\n       * @param assetId\n       * @param address\n       **/\n      getBalanceByAddress(assetChainId, assetId, address) {\n        getNulsBalance(assetChainId, assetId, address).then((response) => {\n          if (response.success) {\n            this.balanceInfo = response.data;\n          } else {\n            this.$message({message: this.$t('public.err2') + response, type: 'error', duration: 1000});\n          }\n        }).catch((error) => {\n          this.$message({message: this.$t('public.err3') + error, type: 'error', duration: 1000});\n        });\n      },\n\n      /**\n       * 查询创建地址是否有红牌\n       * @param address\n       **/\n      getPunishByAddress(address) {\n        this.$post('/', 'getPunishList', [1, 10, 2, address])\n          .then((response) => {\n            //console.log(response);\n            if (response.result.list.length !== 0) {\n              this.isRed = true;\n              this.$message({message: this.$t('newConsensus.newConsensus12'), type: 'error', duration: 3000});\n            } else {\n              this.isRed = false;\n            }\n          }).catch((error) => {\n          this.$message({message: this.$t('public.err3') + error, type: 'error', duration: 1000});\n        });\n      },\n\n      /**\n       *  确定框确定提交\n       **/\n      async confiremSubmit() {\n        if (this.addressInfo.aesPri === '') {\n          this.getNewConsensusRandomString = await getRamNumber(16);\n          this.sendNewConsensusRandomString = await getRamNumber(16);\n          let assembleHex = await this.newConsensusAssemble();\n          if (!assembleHex.success) {\n            this.$message({message: this.$t('tips.tips3'), type: 'error', duration: 3000});\n            return;\n          }\n          let commitDatas = await commitData(this.getNewConsensusRandomString, this.sendNewConsensusRandomString,this.addressInfo.address,assembleHex.data);\n          if (!commitDatas.success) {\n            this.$message({\n              message: this.$t('tips.tips4') + JSON.stringify(commitDatas.data),\n              type: 'error',\n              duration: 3000\n            });\n            return;\n          }\n          this.$refs.password.showScan(commitDatas.data.txInfo, commitDatas.data.assembleHex);\n        } else {\n          this.$refs.password.showPassword(true);\n        }\n      },\n\n      /**\n       *  获取密码框的密码\n       * @param password\n       **/\n      async passSubmit(password) {\n        let tAssemble = await this.newConsensusAssemble();\n        if (!tAssemble.success) {\n          return;\n        }\n\n        const pri = nuls.decrypteOfAES(this.addressInfo.aesPri, password);\n        const newAddressInfo = nuls.importByKey(this.addressInfo.chainId, pri, password, this.prefix);\n        if (newAddressInfo.address === this.addressInfo.address) {\n          let txhex = await nuls.transactionSerialize(pri, this.addressInfo.pub, tAssemble.data);\n          //console.log(txhex);\n          //验证并广播交易\n          await validateAndBroadcast(txhex).then((response) => {\n            //console.log(response);\n            if (response.success) {\n              this.$router.push({\n                name: \"txList\"\n              })\n            } else {\n              this.$message({message: this.$t('error.' + response.data.code), type: 'error', duration: 3000});\n            }\n          }).catch((err) => {\n            this.$message({message: this.$t('public.err0') + err, type: 'error', duration: 1000});\n          });\n        } else {\n          this.$message({message: this.$t('address.address13'), type: 'error', duration: 1000});\n        }\n      },\n\n      /**\n       * @disc: 创建节点组装交易\n       * @date: 2019-12-04 14:17\n       * @author: Wave\n       */\n      async newConsensusAssemble() {\n        let transferInfo = {\n          fromAddress: this.addressInfo.address,\n          assetsChainId: this.agentAsset.agentAsset.chainId,\n          assetsId: this.agentAsset.agentAsset.assetId,\n          amount: Number(Times(this.createrForm.amount, 100000000).toString()),\n          fee: 100000\n        };\n        let inOrOutputs = await inputsOrOutputs(transferInfo, this.balanceInfo, 4);\n        //console.log(inOrOutputs);\n        if (!inOrOutputs.success) {\n          this.$message({\n            message: this.$t('public.err1') + JSON.stringify(inOrOutputs.data),\n            type: 'error',\n            duration: 3000\n          });\n          return {success: false}\n        }\n        let agent = {\n          agentAddress: this.addressInfo.address,\n          packingAddress: this.createrForm.blockAddress,\n          rewardAddress: this.createrForm.rewardAddress,\n          commissionRate: Number(this.createrForm.rate),\n          deposit: Number(Times(this.createrForm.amount, 100000000).toString())\n        };\n        let data = await nuls.transactionAssemble(inOrOutputs.data.inputs, inOrOutputs.data.outputs, '', 4, agent);\n        //console.log(data);\n        return {\n          success: true,\n          data: data\n        };\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  @import \"./../../assets/css/style\";\n\n  .new_consensus {\n    .mt_20 {\n      border: @BD1;\n      .el-form {\n        width: 600px;\n        margin: 50px auto;\n        .el-form-item {\n          .el-form-item__content {\n            .el-select {\n              width: 100%;\n              .el-input__inner {\n                width: 100%;\n              }\n            }\n          }\n        }\n      }\n    }\n\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsensus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsensus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewConsensus.vue?vue&type=template&id=08965739&\"\nimport script from \"./NewConsensus.vue?vue&type=script&lang=js&\"\nexport * from \"./NewConsensus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewConsensus.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"back\",attrs:{\"backUrl\":_vm.backUrl}},[_c('span',{staticClass:\"back-box\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_c('span',[_vm._v(_vm._s(_vm.backTitle))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"back\" :backUrl=\"backUrl\">\n      <span class=\"back-box\" @click=\"back\"><i class=\"el-icon-arrow-left\"></i><span>{{backTitle}}</span></span>\n    </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      backTitle: {\n        type: String,\n        default: \"\"\n      },\n      backUrl: {\n        type: String,\n        default: \"1\"\n      },\n      backParams: {\n        type: String,\n        default: ''\n      }\n    },\n    methods: {\n      back() {\n        if (this.backUrl === \"1\") {\n          this.$router.go(-1);\n        } else {\n          this.$router.push({\n            name: this.backUrl,\n          })\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" type=\"text/less\">\n  @import url(\"../assets/css/style.less\");\n    .back {\n      font-size: 16px;\n      cursor: pointer;\n      margin: 10px 0;\n      height: 20px;\n      text-align: left;\n      width: 200px;\n      &:hover{\n        color:@Hcolour;\n       }\n    }\n  @media screen and (max-width: 768px) {\n    .back {\n      margin: 10px 0;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackBar.vue?vue&type=template&id=233962a8&\"\nimport script from \"./BackBar.vue?vue&type=script&lang=js&\"\nexport * from \"./BackBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BackBar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsensus.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsensus.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}