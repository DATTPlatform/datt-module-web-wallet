(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1696e1ae"],{"0a49":function(t,e,r){var n=r("9b43"),s=r("626a"),a=r("4bf8"),u=r("9def"),i=r("cd1c");t.exports=function(t,e){var r=1==t,c=2==t,o=3==t,p=4==t,d=6==t,l=5==t||d,f=e||i;return function(e,i,h){for(var w,m,b=a(e),g=s(b),v=n(i,h,3),x=u(g.length),y=0,O=r?f(e,x):c?f(e,0):void 0;x>y;y++)if((l||y in g)&&(w=g[y],m=v(w,y,b),t))if(r)O[y]=m;else if(m)switch(t){case 3:return!0;case 5:return w;case 6:return y;case 2:O.push(w)}else if(p)return!1;return d?-1:o||p?p:O}}},"188a":function(t,e,r){},1959:function(t,e,r){"use strict";r.d(e,"k",function(){return i}),r.d(e,"e",function(){return c}),r.d(e,"d",function(){return o}),r.d(e,"j",function(){return d}),r.d(e,"g",function(){return f}),r.d(e,"m",function(){return w}),r.d(e,"b",function(){return b}),r.d(e,"l",function(){return v}),r.d(e,"a",function(){return y}),r.d(e,"f",function(){return k}),r.d(e,"h",function(){return C}),r.d(e,"i",function(){return D}),r.d(e,"c",function(){return P});r("7514"),r("c5f6"),r("6b54"),r("96cf");var n=r("3b8d"),s=r("9f30"),a=r("6ace"),u=r("db49");function i(t){return t===u["e"].chainId}function c(t,e){var r=t.txSerialize().length;return r+=110*e,1e5*Math.ceil(r/1024)}function o(t,e){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=0,t.next=3,Object(s["a"])("/","getByzantineCount",[e.txSerialize().toString("hex")]).then(function(t){if(t.hasOwnProperty("result")){var s=e.txSerialize().length;s+=110*(r+t.result.value),n=1e6*Math.ceil(s/1024)}else n=-100}).catch(function(t){console.log(t),n=-100});case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)})),p.apply(this,arguments)}function d(t,e,r){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark(function t(e,r,n){var s,u,i,c,o,p,d,l,h;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=Number(Object(a["c"])(e.amount,e.fee)),u=0,i=r.nonce,c=e.amount,o=0,4===n?o=-1:5===n?o=-1:6===n?(s=e.amount,u=-1,i=e.depositHash.substring(e.depositHash.length-16),c=e.amount-e.fee):9===n&&(s=e.amount,u=-1,i=e.depositHash.substring(e.depositHash.length-16),c=e.amount-e.fee,p=(new Date).valueOf(),o=Number(p.toString().substr(0,p.toString().length-3))),d=[{address:e.fromAddress,assetsChainId:e.assetsChainId,assetsId:e.assetsId,amount:s,locked:u,nonce:i}],2!==n||e.assetsChainId===Object(a["f"])()){t.next=16;break}return d[0].amount=e.amount,t.next=11,f(Object(a["f"])(),1,e.fromAddress);case 11:if(l=t.sent,!(l.data.balance<1e5)){t.next=15;break}return console.log("余额小于手续费"),t.abrupt("return");case 15:d.push({address:e.fromAddress,assetsChainId:Object(a["f"])(),assetsId:1,amount:1e5,locked:u,nonce:l.data.nonce});case 16:if(h=[],15!==n&&17!==n){t.next=19;break}return t.abrupt("return",{success:!0,data:{inputs:d,outputs:h}});case 19:if(16!==n){t.next=23;break}return d[0].amount=Number(Object(a["c"])(e.amount,1e5)),e.toAddress&&e.value&&(h=[{address:e.toAddress,assetsChainId:e.assetsChainId,assetsId:e.assetsId,amount:e.value,lockTime:o}]),t.abrupt("return",{success:!0,data:{inputs:d,outputs:h}});case 23:return e.times&&2===n&&(o=Date.parse(e.times)/1e3),h=[{address:e.toAddress?e.toAddress:e.fromAddress,assetsChainId:e.assetsChainId,assetsId:e.assetsId,amount:c,lockTime:o}],t.abrupt("return",{success:!0,data:{inputs:d,outputs:h}});case 26:case"end":return t.stop()}},t)})),l.apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,r,n,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:2,r=a.length>1&&void 0!==a[1]?a[1]:1,n=a.length>2?a[2]:void 0,t.next=5,Object(s["a"])("/","getAccountBalance",[e,r,n]).then(function(t){return t.hasOwnProperty("result")?{success:!0,data:{balance:t.result.balance,nonce:t.result.nonce}}:{success:!1,data:t}}).catch(function(t){return{success:!1,data:t}});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t)})),h.apply(this,arguments)}function w(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","validateTx",[e]).then(function(t){return t.hasOwnProperty("result")?{success:!0,data:t.result}:{success:!1,data:t.error}}).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),m.apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","broadcastTx",[e]).then(function(t){return t.hasOwnProperty("result")?{success:!0,data:t.result}:{success:!1,data:t.error}}).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),g.apply(this,arguments)}function v(t){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","validateTx",[e]).then(function(t){if(t.hasOwnProperty("result")){var r=t.result.value;return Object(s["a"])("/","broadcastTx",[e]).then(function(t){return t.hasOwnProperty("result")?{success:!0,hash:r}:{success:!1,data:t.error}}).catch(function(t){return{success:!1,data:t}})}return{success:!1,data:t.error}}).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),x.apply(this,arguments)}function y(t){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","getConsensusDeposit",[1,300,e]).then(function(t){return t.result}).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),O.apply(this,arguments)}function k(t){return S.apply(this,arguments)}function S(){return S=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","getContractConstructor",[e]).then(function(t){return t.hasOwnProperty("result")?{success:!0,data:t.result.constructor}:{success:!1,data:t.error}}).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),S.apply(this,arguments)}function j(){return I.apply(this,arguments)}function I(){return I=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[{chainId:1,addressPrefix:"NULS"},{chainId:2,addressPrefix:"tNULS"}],t.next=3,Object(s["a"])("/","getAllAddressPrefix",[]).then(function(t){t.hasOwnProperty("result")?(sessionStorage.hasOwnProperty("prefixData")&&sessionStorage.removeItem("prefixData"),sessionStorage.setItem("prefixData",JSON.stringify(t.result))):sessionStorage.setItem("prefixData",JSON.stringify(e))}).catch(function(t){console.log(t),sessionStorage.setItem("prefixData",JSON.stringify(e))});case 3:case"end":return t.stop()}},t)})),I.apply(this,arguments)}function C(t){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:if(r=JSON.parse(sessionStorage.getItem("prefixData")),!r){t.next=8;break}return n=r.find(function(t){return t.chainId===e}),t.abrupt("return",n.addressPrefix);case 8:return t.abrupt("return","");case 9:case"end":return t.stop()}},t)})),R.apply(this,arguments)}function D(t){return $.apply(this,arguments)}function $(){return $=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/","getMsg",[e]).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("result")||!e.result.pubkey){t.next=8;break}if(!e.result.pubkey||!e.result.signData){t.next=5;break}return t.abrupt("return",{success:!0,data:{signData:e.result.signData,pubkey:e.result.pubkey}});case 5:return t.abrupt("return",{success:!0,data:{}});case 6:t.next=9;break;case 8:return t.abrupt("return",{success:!1,data:e});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){return{success:!1,data:t}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),$.apply(this,arguments)}function P(t,e,r,n){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark(function t(e,r,n,a){var u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return u={address:n,hash:a.getHash().toString("hex"),txHex:a.txSerialize().toString("hex")},t.next=3,Object(s["a"])("/","commitMsg",[e,u]).then(function(t){if(t.hasOwnProperty("result")){var n={url:localStorage.hasOwnProperty("url")?JSON.parse(localStorage.getItem("url")).urls:"https://beta.wallet.nuls.io/api",txHexKey:e,signDataKey:r};return{success:!0,data:{txInfo:n,assembleHex:a}}}return{success:!1,data:t}}).catch(function(t){return{success:!1,data:t}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),_.apply(this,arguments)}},7514:function(t,e,r){"use strict";var n=r("5ca1"),s=r("0a49")(5),a="find",u=!0;a in[]&&Array(1)[a](function(){u=!1}),n(n.P+n.F*u,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(a)},7672:function(t,e,r){"use strict";var n=r("188a"),s=r.n(n);s.a},cd1c:function(t,e,r){var n=r("e853");t.exports=function(t,e){return new(n(t))(e)}},d1f0:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"password"},[r("div",{staticClass:"scan"},[r("el-dialog",{attrs:{title:t.$t("tips.tips17"),visible:t.scanDialog,width:"308px",center:""},on:{"update:visible":function(e){t.scanDialog=e},close:t.scanDialogClose}},[r("div",{staticClass:"tc"},[r("div",{staticClass:"qrcode tc",attrs:{id:"qrcode"}}),r("div",{staticClass:"font12 tc",staticStyle:{margin:"20px 0 0 0"}},[t._v("\n          "+t._s(t.$t("tips.tips18"))+"\n          "),r("font",{staticClass:"click td",on:{click:function(e){return t.toUrl("http://nabox.io/",1)}}},[t._v("Nabox")]),t._v("\n          /\n          "),r("font",{staticClass:"click td",on:{click:function(e){return t.toUrl("https://www.denglu1.cn/",1)}}},[t._v(t._s(t.$t("tips.tips11")))]),t._v("\n          "+t._s(t.$t("tips.tips17"))+"\n        ")],1)])])],1),r("div",{staticClass:"password_visible"},[r("el-dialog",{staticClass:"password-dialog",attrs:{title:t.$t("password.password1"),visible:t.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.passwordVisible=e},open:t.passwordShow,close:t.passwordClose}},[r("el-form",{ref:"passwordForm",attrs:{model:t.passwordForm,rules:t.passwordRules},nativeOn:{submit:function(t){t.preventDefault()}}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.$t("password.password1")))]),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterSubmit("passwordForm")}},model:{value:t.passwordForm.password,callback:function(e){t.$set(t.passwordForm,"password",e)},expression:"passwordForm.password"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.passwordClose}},[t._v(t._s(t.$t("password.password2")))]),r("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(e){return t.dialogSubmit("passwordForm")}}},[t._v(t._s(t.$t("password.password3"))+"\n        ")])],1)],1)],1)])},s=[],a=(r("6b54"),r("96cf"),r("3b8d")),u=r("d044"),i=r.n(u),c=r("0ad0"),o=r.n(c),p=r("6ace"),d=r("1959"),l={props:{},data:function(){var t=this,e=function(e,r,n){""===r?n(new Error(t.$t("password.password1"))):n()};return{scanDialog:!1,scanInterval:null,passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:e,trigger:["blur","change"]}]}}},created:function(){},mounted:function(){0},watch:{passwordVisible:function(t){var e=this;t&&setTimeout(function(){e.$refs["inpus"].focus()},200)}},methods:{showScan:function(t,e){var r=this;this.scanDialog=!0,setTimeout(function(){var e=new i.a("qrcode",{width:250,height:250,colorDark:"#000000",colorLight:"#ffffff"});e.makeCode(JSON.stringify(t))},500),this.scanInterval=setInterval(function(){r.scanAutograph(t.signDataKey,e)},3e3)},scanDialogClose:function(){document.getElementById("qrcode").innerHTML="",clearInterval(this.scanInterval),this.scanInterval=null},scanAutograph:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,r){var n,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["i"])(e);case 2:if(n=t.sent,!n.success||!n.data.pubkey){t.next=12;break}return t.next=6,o.a.appSplicingPub(n.data.signData,n.data.pubkey);case 6:return r.signatures=t.sent,s=r.txSerialize().toString("hex"),t.next=10,Object(d["l"])(s);case 10:a=t.sent,a.success?(this.$message({message:this.$t("tips.tips0"),type:"success",duration:1e3}),this.scanDialog=!1,this.scanDialogClose(),this.toUrl("txList")):(this.$message({message:this.$t("tips.tips1")+JSON.stringify(a.data),type:"error",duration:3e3}),this.scanDialog=!1,this.scanDialogClose());case 12:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),enterSubmit:function(t){this.passwordForm.password&&this.dialogSubmit(t)},passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(t){this.passwordVisible=t},dialogSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$emit("passwordSubmit",e.passwordForm.password),e.passwordVisible=!1})},toUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===e?this.$router.push({name:t}):Object(p["h"])("nuls",t)}}},f=l,h=(r("7672"),r("2877")),w=Object(h["a"])(f,n,s,!1,null,null,null);e["a"]=w.exports},e853:function(t,e,r){var n=r("d3f4"),s=r("1169"),a=r("2b4c")("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=void 0),n(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-1696e1ae.d65bcab0.js.map