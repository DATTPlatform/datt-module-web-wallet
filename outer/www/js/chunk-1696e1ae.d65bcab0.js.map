{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./src/api/requestData.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/components/PasswordBar.vue?9f1b","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./src/components/PasswordBar.vue?23b9","webpack:///src/components/PasswordBar.vue","webpack:///./src/components/PasswordBar.vue?fdc6","webpack:///./src/components/PasswordBar.vue?99ff","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","isMainNet","chainId","MAIN_INFO","countFee","tx","signatrueCount","txSize","txSerialize","Math","ceil","countCtxFee","_x","_x2","_countCtxFee","apply","this","arguments","_callee","resultValue","regeneratorRuntime","wrap","_context","prev","next","post","toString","then","response","hasOwnProperty","value","catch","error","console","log","abrupt","stop","inputsOrOutputs","_x3","_x4","_x5","_inputsOrOutputs","_callee2","transferInfo","balanceInfo","type","newAmount","newLocked","newNonce","newoutputAmount","newLockTime","times","inputs","nulsbalance","outputs","_context2","Number","Plus","amount","fee","nonce","depositHash","substring","Date","valueOf","substr","address","fromAddress","assetsChainId","assetsId","locked","chainID","getNulsBalance","sent","data","balance","success","toAddress","lockTime","parse","_getNulsBalance","_callee3","assetChainId","assetId","_args3","_context3","validateTx","_x6","_validateTx","_callee4","txHex","_context4","broadcastTx","_x7","_broadcastTx","_callee5","_context5","validateAndBroadcast","_x8","_validateAndBroadcast","_callee6","_context6","newHash","hash","agentDeposistList","_x9","_agentDeposistList","_callee7","agentHash","_context7","getContractConstructor","_x10","_getContractConstructor","_callee8","contractCodeHex","_context8","constructor","getAllAddressPrefix","_getAllAddressPrefix","_callee9","newData","_context9","addressPrefix","sessionStorage","removeItem","setItem","JSON","stringify","getPrefixByChainId","_x11","_getPrefixByChainId","_callee10","prefixData","newInfo","_context10","getItem","find","v","getScanAutograph","_x12","_getScanAutograph","_callee12","randomString","_context12","_ref","Object","_blockchain_Tdatt_datt_datt_module_web_wallet_wallet_ui_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","mark","_callee11","_context11","pubkey","signData","_x17","commitData","_x13","_x14","_x15","_x16","_commitData","_callee13","txHexKey","signDataKey","assembleHex","parameterValue","_context13","getHash","txInfo","url","localStorage","urls","$export","$find","KEY","forced","Array","P","F","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PasswordBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PasswordBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","speciesConstructor","original","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","$t","visible","scanDialog","width","center","on","update:visible","$event","close","scanDialogClose","id","staticStyle","margin","_v","_s","click","toUrl","passwordVisible","top","close-on-click-modal","close-on-press-escape","open","passwordShow","passwordClose","ref","model","passwordForm","rules","passwordRules","nativeOn","submit","preventDefault","directives","name","rawName","expression","prop","maxlength","keyup","indexOf","_k","keyCode","key","enterSubmit","callback","$$v","$set","slot","dialogSubmit","staticRenderFns","PasswordBarvue_type_script_lang_js_","props","_this","validatePass","rule","Error","scanInterval","password","validator","trigger","created","mounted","watch","_this2","setTimeout","$refs","focus","methods","showScan","setAliasHex","_this3","qrcode","qrcode_default","a","height","colorDark","colorLight","makeCode","setInterval","scanAutograph","document","getElementById","innerHTML","clearInterval","_scanAutograph","asyncToGenerator","scanAutographInfo","txhex","broadcastInfo","requestData","nuls_sdk_js_default","appSplicingPub","signatures","$message","message","duration","formName","resetFields","showPassword","boolean","_this4","validate","valid","$emit","$router","util","components_PasswordBarvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","isObject","isArray","SPECIES","C","prototype"],"mappings":"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","file":"js/chunk-1696e1ae.d65bcab0.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","import {post} from './https'\nimport {Plus, chainID} from './util'\nimport {MAIN_INFO} from '@/config.js'\n\n/**\n * 判断是否为主网\n * @param chainId\n **/\nexport function isMainNet(chainId) {\n  return chainId === MAIN_INFO.chainId;\n}\n\n/**\n * 计算手续费\n * @param tx\n * @param signatrueCount 签名数量，默认为1\n **/\nexport function countFee(tx, signatrueCount) {\n  let txSize = tx.txSerialize().length;\n  txSize += signatrueCount * 110;\n  return 100000 * Math.ceil(txSize / 1024);\n}\n\n/**\n * 计算跨链交易手续费\n * @param tx\n * @param signatrueCount 签名数量，默认为1\n **/\nexport async function countCtxFee(tx, signatrueCount) {\n  let resultValue = 0;\n  await post('/', 'getByzantineCount', [tx.txSerialize().toString('hex')])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let txSize = tx.txSerialize().length;\n        txSize += (signatrueCount + response.result.value) * 110;\n        resultValue = 1000000 * Math.ceil(txSize / 1024)\n      } else {\n        resultValue = -100\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      resultValue = -100\n    });\n  return resultValue;\n}\n\n/**\n * 获取inputs and outputs\n * @param transferInfo\n * @param balanceInfo\n * @param type\n * @returns {*}\n **/\nexport async function inputsOrOutputs(transferInfo, balanceInfo, type) {\n  let newAmount = Number(Plus(transferInfo.amount, transferInfo.fee));\n  let newLocked = 0;\n  let newNonce = balanceInfo.nonce;\n  let newoutputAmount = transferInfo.amount;\n  let newLockTime = 0;\n  if (type === 4) {\n    newLockTime = -1;\n  } else if (type === 5) {\n    newLockTime = -1;\n  } else if (type === 6) {\n    newAmount = transferInfo.amount;\n    newLocked = -1;\n    newNonce = transferInfo.depositHash.substring(transferInfo.depositHash.length - 16);\n    newoutputAmount = transferInfo.amount - transferInfo.fee;\n  } else if (type === 9) {\n    newAmount = transferInfo.amount;\n    newLocked = -1;\n    newNonce = transferInfo.depositHash.substring(transferInfo.depositHash.length - 16);\n    newoutputAmount = transferInfo.amount - transferInfo.fee;\n    //锁定三天\n    //let times = (new Date()).valueOf() + 3600000 * 72;\n    let times = (new Date()).valueOf();\n    newLockTime = Number(times.toString().substr(0, times.toString().length - 3));\n    //newLockTime = times;\n  } else {\n    //return {success: false, data: \"No transaction type\"}\n  }\n\n  let inputs = [{\n    address: transferInfo.fromAddress,\n    assetsChainId: transferInfo.assetsChainId,\n    assetsId: transferInfo.assetsId,\n    amount: newAmount,\n    locked: newLocked,\n    nonce: newNonce\n  }];\n\n  if (type === 2 && transferInfo.assetsChainId !== chainID()) {\n    inputs[0].amount = transferInfo.amount;\n    //账户转出资产余额\n    let nulsbalance = await getNulsBalance(chainID(), 1, transferInfo.fromAddress);\n    //console.log(nulsbalance);\n    if (nulsbalance.data.balance < 100000) {\n      console.log(\"余额小于手续费\");\n      return\n    }\n    inputs.push({\n      address: transferInfo.fromAddress,\n      assetsChainId: chainID(),\n      assetsId: 1,\n      amount: 100000,\n      locked: newLocked,\n      nonce: nulsbalance.data.nonce\n    })\n  }\n  let outputs = [];\n  if (type === 15 || type === 17) {\n    return {success: true, data: {inputs: inputs, outputs: outputs}};\n  }\n  if (type === 16) {\n    inputs[0].amount = Number(Plus(transferInfo.amount, 100000));\n    if (transferInfo.toAddress) {\n      if (transferInfo.value) { //向合约地址转nuls\n        //inputs[0].amount = transferInfo.amount;\n        outputs = [{\n          address: transferInfo.toAddress,\n          assetsChainId: transferInfo.assetsChainId,\n          assetsId: transferInfo.assetsId,\n          amount: transferInfo.value,\n          lockTime: newLockTime\n        }];\n      }\n    }\n    return {success: true, data: {inputs: inputs, outputs: outputs}};\n  }\n\n  if (transferInfo.times && type === 2) {\n    newLockTime = Date.parse(transferInfo.times) / 1000\n  }\n\n  outputs = [{\n    address: transferInfo.toAddress ? transferInfo.toAddress : transferInfo.fromAddress,\n    assetsChainId: transferInfo.assetsChainId,\n    assetsId: transferInfo.assetsId,\n    amount: newoutputAmount,\n    lockTime: newLockTime\n  }];\n  /*console.log(inputs);\n  console.log(outputs);*/\n  return {success: true, data: {inputs: inputs, outputs: outputs}};\n}\n\n/**\n * 获取账户的余额及nonce\n * @param assetChainId\n * @param assetId\n * @param address\n * @returns {Promise<any>}\n */\nexport async function getNulsBalance(assetChainId = 2, assetId = 1, address) {\n  return await post('/', 'getAccountBalance', [assetChainId, assetId, address])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: {balance: response.result.balance, nonce: response.result.nonce}}\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 验证交易\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function validateTx(txHex) {\n  return await post('/', 'validateTx', [txHex])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 广播交易\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function broadcastTx(txHex) {\n  return await post('/', 'broadcastTx', [txHex])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 验证交易并广播\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function validateAndBroadcast(txHex) {\n  return await post('/', 'validateTx', [txHex])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let newHash = response.result.value;\n        return post('/', 'broadcastTx', [txHex])\n          .then((response) => {\n            //console.log(response);\n            if (response.hasOwnProperty(\"result\")) {\n              return {success: true, hash: newHash};\n            } else {\n              return {success: false, data: response.error};\n            }\n          })\n          .catch((error) => {\n            return {success: false, data: error};\n          });\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取节点的委托列表\n * @param agentHash\n * @returns {Promise<any>}\n **/\nexport async function agentDeposistList(agentHash) {\n  return await post('/', 'getConsensusDeposit', [1, 300, agentHash])\n    .then((response) => {\n      return response.result;\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取合约代码构造函数\n * @param contractCodeHex\n * @returns {Promise<any>}\n */\nexport async function getContractConstructor(contractCodeHex) {\n  return await post('/', 'getContractConstructor', [contractCodeHex])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result.constructor};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取链ID对应的前缀\n * @returns {Promise<any>}\n */\nexport async function getAllAddressPrefix() {\n  let newData = [\n    {chainId: 1, addressPrefix: 'NULS'},\n    {chainId: 2, addressPrefix: 'tNULS'},\n  ];\n  await post('/', 'getAllAddressPrefix', [])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        if (sessionStorage.hasOwnProperty('prefixData')) {\n          sessionStorage.removeItem('prefixData')\n        }\n        sessionStorage.setItem('prefixData', JSON.stringify(response.result));\n      } else {\n        sessionStorage.setItem('prefixData', JSON.stringify(newData));\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      sessionStorage.setItem('prefixData', JSON.stringify(newData));\n    });\n}\n\n//根据链ID获取前缀\nexport async function getPrefixByChainId(chainId) {\n  await getAllAddressPrefix();\n  let prefixData = JSON.parse(sessionStorage.getItem('prefixData'));\n  if (prefixData) {\n    let newInfo = prefixData.find((v) => {\n      return v.chainId === chainId;\n    });\n    return newInfo.addressPrefix;\n  } else {\n    return '';\n  }\n}\n\n/**\n * @disc: 获取扫描后签名信息\n * @params: importRandomString\n * @date: 2019-12-02 16:39\n * @author: Wave\n */\nexport async function getScanAutograph(randomString) {\n  return await post('/', 'getMsg', [randomString])\n    .then(async (response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\") && response.result.pubkey) {\n        if (response.result.pubkey && response.result.signData) {\n          return {success: true, data: {signData: response.result.signData, pubkey: response.result.pubkey}}\n        } else {\n          return {success: true, data: {}}\n        }\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error}\n    });\n}\n\n/**\n * @disc: 发送消息到后台\n * @params: key,value\n * @date: 2019-12-02 16:39\n * @author: Wave\n */\nexport async function commitData(txHexKey, signDataKey, address, assembleHex) {\n  let parameterValue = {\n    address: address,\n    hash: assembleHex.getHash().toString('hex'),\n    txHex: assembleHex.txSerialize().toString(\"hex\")\n  };\n  return await post('/', 'commitMsg', [txHexKey, parameterValue])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let txInfo = {\n          url: localStorage.hasOwnProperty('url') ? JSON.parse(localStorage.getItem('url')).urls : 'https://beta.wallet.nuls.io/api',\n          txHexKey: txHexKey,\n          signDataKey: signDataKey,\n        };\n        /*console.log(txInfo);\n        console.log(parameterValue.hash);\n        console.log(parameterValue.txHex);*/\n        return {success: true, data: {txInfo: txInfo, assembleHex: assembleHex}}\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error}\n    });\n}\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordBar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordBar.vue?vue&type=style&index=0&lang=less&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"password\"},[_c('div',{staticClass:\"scan\"},[_c('el-dialog',{attrs:{\"title\":_vm.$t('tips.tips17'),\"visible\":_vm.scanDialog,\"width\":\"308px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.scanDialog=$event},\"close\":_vm.scanDialogClose}},[_c('div',{staticClass:\"tc\"},[_c('div',{staticClass:\"qrcode tc\",attrs:{\"id\":\"qrcode\"}}),_c('div',{staticClass:\"font12 tc\",staticStyle:{\"margin\":\"20px 0 0 0\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('tips.tips18'))+\"\\n          \"),_c('font',{staticClass:\"click td\",on:{\"click\":function($event){return _vm.toUrl('http://nabox.io/',1)}}},[_vm._v(\"Nabox\")]),_vm._v(\"\\n          /\\n          \"),_c('font',{staticClass:\"click td\",on:{\"click\":function($event){return _vm.toUrl('https://www.denglu1.cn/',1)}}},[_vm._v(_vm._s(_vm.$t('tips.tips11')))]),_vm._v(\"\\n          \"+_vm._s(_vm.$t('tips.tips17'))+\"\\n        \")],1)])])],1),_c('div',{staticClass:\"password_visible\"},[_c('el-dialog',{staticClass:\"password-dialog\",attrs:{\"title\":_vm.$t('password.password1'),\"visible\":_vm.passwordVisible,\"top\":\"30vh\",\"width\":\"30rem\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.passwordVisible=$event},\"open\":_vm.passwordShow,\"close\":_vm.passwordClose}},[_c('el-form',{ref:\"passwordForm\",attrs:{\"model\":_vm.passwordForm,\"rules\":_vm.passwordRules},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_vm._v(_vm._s(_vm.$t('password.password1')))]),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"inpus\",attrs:{\"type\":\"password\",\"maxlength\":22},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enterSubmit('passwordForm')}},model:{value:(_vm.passwordForm.password),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"password\", $$v)},expression:\"passwordForm.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.passwordClose}},[_vm._v(_vm._s(_vm.$t('password.password2')))]),_c('el-button',{attrs:{\"type\":\"success\",\"id\":\"passwordInfo\"},on:{\"click\":function($event){return _vm.dialogSubmit('passwordForm')}}},[_vm._v(_vm._s(_vm.$t('password.password3'))+\"\\n        \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"password\">\n    <div class=\"scan\">\n      <el-dialog :title=\"$t('tips.tips17')\" :visible.sync=\"scanDialog\" width=\"308px\" center @close=\"scanDialogClose\">\n        <div class=\"tc\">\n          <div id=\"qrcode\" class=\"qrcode tc\"></div>\n          <div class=\"font12 tc\" style=\"margin: 20px 0 0 0\">\n            {{$t('tips.tips18')}}\n            <font class=\"click td\" @click=\"toUrl('http://nabox.io/',1)\">Nabox</font>\n            /\n            <font class=\"click td\" @click=\"toUrl('https://www.denglu1.cn/',1)\">{{$t('tips.tips11')}}</font>\n            {{$t('tips.tips17')}}\n          </div>\n        </div>\n      </el-dialog>\n    </div>\n    <div class=\"password_visible\">\n      <el-dialog :title=\"$t('password.password1')\" :visible.sync=\"passwordVisible\" top=\"30vh\" width=\"30rem\"\n                 class=\"password-dialog\"\n                 :close-on-click-modal=\"false\"\n                 :close-on-press-escape=\"false\"\n                 @open=\"passwordShow\"\n                 @close=\"passwordClose\">\n        <el-form ref=\"passwordForm\" :model=\"passwordForm\" :rules=\"passwordRules\" @submit.native.prevent>\n          <div v-show=\"false\">{{$t('password.password1')}}</div>\n          <el-form-item prop=\"password\">\n            <el-input v-model=\"passwordForm.password\" type=\"password\" :maxlength=\"22\" ref=\"inpus\"\n                      @keyup.enter.native=\"enterSubmit('passwordForm')\">\n            </el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"passwordClose\">{{$t('password.password2')}}</el-button>\n          <el-button type=\"success\" @click=\"dialogSubmit('passwordForm')\" id=\"passwordInfo\">{{$t('password.password3')}}\n          </el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import QRCode from 'qrcodejs2'\n  import nuls from 'nuls-sdk-js'\n  import {connectToExplorer} from '@/api/util.js'\n  import {validateAndBroadcast, getScanAutograph} from '@/api/requestData'\n\n  export default {\n    props: {},\n    data() {\n      let validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error(this.$t('password.password1')))\n        } else {\n          callback()\n        }\n      };\n      return {\n        scanDialog: false, //二维码弹框\n        scanInterval: null,//二维码定时器\n\n        passwordVisible: false, //密码弹框\n        passwordForm: {\n          password: '',\n        },\n        passwordRules: {\n          password: [\n            {validator: validatePass, trigger: ['blur', 'change']}\n          ]\n        },\n      }\n    },\n    created() {\n    },\n    mounted() {\n      if (process.env.NODE_ENV !== 'production') {\n        this.passwordForm.password = 'nuls123456'\n      }\n    },\n    watch: {\n      passwordVisible(val) {\n        if (val) {\n          setTimeout(() => {\n            this.$refs['inpus'].focus()\n          }, 200)\n        }\n      }\n    },\n    methods: {\n\n      /**\n       * @disc: 二维码显示内容\n       * @params: txInfo\n       * @date: 2019-12-03 14:34\n       * @author: Wave\n       */\n      showScan(txInfo, setAliasHex) {\n        this.scanDialog = true;\n        setTimeout(() => {\n          let qrcode = new QRCode('qrcode', {\n            width: 250,\n            height: 250,\n            colorDark: \"#000000\",\n            colorLight: \"#ffffff\",\n          });\n          qrcode.makeCode(JSON.stringify(txInfo))\n        }, 500);\n\n        this.scanInterval = setInterval(() => {\n          this.scanAutograph(txInfo.signDataKey, setAliasHex);\n        }, 3000);\n      },\n\n      /**\n       * @disc: 关闭二维码弹框\n       * @date: 2019-12-03 15:28\n       * @author: Wave\n       */\n      scanDialogClose() {\n        document.getElementById('qrcode').innerHTML = '';\n        clearInterval(this.scanInterval);\n        this.scanInterval = null;\n      },\n\n      /**\n       * @disc: 获取扫描后签名信息\n       * @params: importRandomString\n       * @date: 2019-12-02 16:39\n       * @author: Wave\n       */\n      async scanAutograph(randomString, setAliasHex) {\n        let scanAutographInfo = await getScanAutograph(randomString);\n        //console.log(scanAutographInfo);\n        if (scanAutographInfo.success && scanAutographInfo.data.pubkey) {\n          setAliasHex.signatures = await nuls.appSplicingPub(scanAutographInfo.data.signData, scanAutographInfo.data.pubkey);\n          let txhex = setAliasHex.txSerialize().toString(\"hex\");\n          //console.log(txhex);\n          let broadcastInfo = await validateAndBroadcast(txhex);\n          //console.log(broadcastInfo);\n          if (broadcastInfo.success) {\n            this.$message({message: this.$t('tips.tips0'), type: 'success', duration: 1000});\n            this.scanDialog = false;\n            this.scanDialogClose();\n            this.toUrl(\"txList\");\n          } else {\n            this.$message({\n              message: this.$t('tips.tips1') + JSON.stringify(broadcastInfo.data),\n              type: 'error',\n              duration: 3000\n            });\n            this.scanDialog = false;\n            this.scanDialogClose();\n          }\n        }\n      },\n\n      /**\n       * 回车提交\n       * @param formName\n       */\n      enterSubmit(formName) {\n        if (this.passwordForm.password) {\n          this.dialogSubmit(formName);\n        }\n      },\n\n      //密码框显示执行事件\n      passwordShow() {\n      },\n\n      /**\n       * @disc: 关闭密码弹框\n       * @date: 2019-12-03 15:45\n       * @author: Wave\n       */\n      passwordClose() {\n        this.$refs['passwordForm'].resetFields();\n        this.passwordVisible = false;\n      },\n\n      /**\n       * @disc: 显示密码弹框\n       * @params: boolean\n       * @date: 2019-12-03 15:45\n       * @author: Wave\n       */\n      showPassword(boolean) {\n        this.passwordVisible = boolean;\n      },\n\n      /**\n       * @disc: 弹出密码输入框\n       * @date: 2019-12-03 13:59\n       * @author: Wave\n       */\n      dialogSubmit(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$emit('passwordSubmit', this.passwordForm.password);\n            this.passwordVisible = false;\n          } else {\n            return false\n          }\n        })\n      },\n\n      /**\n       * @disc: 连接跳转\n       * @params: name\n       * @date: 2019-09-02 11:12\n       * @author: Wave\n       */\n      toUrl(name, type = 0) {\n        //console.log(name,type);\n        if (type === 0) {\n          this.$router.push({\n            name: name\n          })\n        } else {\n          connectToExplorer('nuls', name);\n        }\n      },\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  .password {\n    .password-dialog {\n      .el-dialog {\n        width: 370px;\n        .el-dialog__body {\n          background-color: #F5F6F9 !important;\n          padding: 30px 20px 30px 20px !important;\n          .el-form {\n            .el-form-item {\n              .el-form-item__label {\n                line-height: 0;\n                padding: 28px 0 20px 0;\n              }\n            }\n          }\n        }\n        .el-dialog__footer {\n          .dialog-footer {\n            padding: 1rem 1rem 0.1rem;\n            .el-button {\n              width: 9.5rem;\n            }\n            .el-button--success {\n              span {\n                color: white;\n              }\n            }\n          }\n        }\n      }\n    }\n    .scan {\n      text-align: center;\n      .el-dialog {\n        .el-dialog__body {\n          height: 330px;\n          .qrcode{\n            width: 250px;\n          }\n        }\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordBar.vue?vue&type=template&id=2d6a62d2&\"\nimport script from \"./PasswordBar.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PasswordBar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}