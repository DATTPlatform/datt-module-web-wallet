(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-392b933a"],{"08e3":function(e,t,a){"use strict";var r=a("7429"),s=a.n(r);s.a},"13f9":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"call"},[a("el-form",{ref:"callForm",staticClass:"call-form",attrs:{model:e.callForm,rules:e.callRules}},[a("el-form-item",{staticClass:"search-model",attrs:{label:"",prop:"region"}},[a("el-select",{attrs:{placeholder:e.$t("call.call1")},on:{change:e.changeModel},model:{value:e.callForm.modelValue,callback:function(t){e.$set(e.callForm,"modelValue",t)},expression:"callForm.modelValue"}},e._l(e.callForm.modelData,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:t}})}),1)],1),e._l(e.callForm.parameterList,function(t,r){return a("el-form-item",{key:r,attrs:{label:t.name,prop:"parameterList."+r+".value",rules:{required:t.required,message:t.name+e.$t("call.call2"),trigger:"blur"}}},[a("el-input",{on:{change:e.changeParameter},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"domain.value"}})],1)}),e.selectionData.view?e._e():a("div",{staticClass:"div-senior"},[a("el-form-item",{staticClass:"senior",attrs:{label:e.$t("call.call3")}},[a("el-switch",{model:{value:e.callForm.senior,callback:function(t){e.$set(e.callForm,"senior",t)},expression:"callForm.senior"}})],1),e.callForm.senior?a("div",{staticClass:"senior-div"},[a("el-form-item",{attrs:{label:"Gas Limit"}},[a("el-input",{attrs:{disabled:""},on:{change:e.changeGas},model:{value:e.callForm.gas,callback:function(t){e.$set(e.callForm,"gas",t)},expression:"callForm.gas"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gasTips,expression:"gasTips"}],staticClass:"font12 yellow"},[e._v(e._s(e.$t("call.call10")))])],1),a("el-form-item",{attrs:{label:"Price"}},[a("el-input",{attrs:{disabled:""},model:{value:e.callForm.price,callback:function(t){e.$set(e.callForm,"price",t)},expression:"callForm.price"}})],1),e.selectionData.payable?a("el-form-item",{attrs:{label:"Value",prop:"values"}},[a("el-input",{model:{value:e.callForm.values,callback:function(t){e.$set(e.callForm,"values",t)},expression:"callForm.values"}})],1):e._e()],1):e._e()],1),a("el-form-item",{staticClass:"search-submit"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("callForm")}}},[e._v(e._s(e.$t("contract.contract4")))])],1)],2),a("div",{staticClass:"cb"}),e.callResult?a("div",{staticClass:"w630 bg-gray result"},[e._v("\n    "+e._s(e.callResult)+"\n  ")]):e._e(),a("Password",{ref:"password",on:{passwordSubmit:e.passSubmit}})],1)},s=[],n=(a("96cf"),a("3b8d")),l=(a("ac4d"),a("8a81"),a("ac6a"),a("75fc")),c=(a("7f7f"),a("c5f6"),a("0ad0")),i=a.n(c),o=a("b8d7"),u=a.n(o),d=a("e065"),m=a.n(d),h=a("1959"),p=a("d1f0"),f=a("6ace"),g={data:function(){var e=this,t=function(t,a,r){a?a<1?(e.callForm.gas=1,r()):a>1e7?(e.callForm.gas=1e7,r()):r():r(new Error(e.$t("deploy.deploy8")))},a=function(t,a,r){a?a<1?e.callForm.price=1:r():r(new Error(e.$t("deploy.deploy9")))},r=function(t,a,r){a?a<0||0===a?(e.callForm.values=0,r(new Error(e.$t("deploy.deploy22")))):r():r(new Error(e.$t("deploy.deploy22")))};return{addressInfo:{},balanceInfo:{},callForm:{modelData:[],modelValue:"",parameterList:[],senior:!1,gas:0,price:25,values:0},callRules:{gas:[{validator:t,trigger:["blur","change"]}],price:[{validator:a,trigger:"blur"}],values:[{validator:r,trigger:"blur"}]},gasNumber:0,oldGasNumber:0,gasTips:!1,selectionData:{view:!0,payable:!1},contractCallData:{},callResult:"",prefix:"",newArgs:[],txHexRandom:"",signDataKeyRandom:""}},props:{modelList:Array,contractAddress:String,decimals:Number},components:{Password:p["a"]},created:function(){var e=this;Object(h["h"])(Object(f["f"])()).then(function(t){e.prefix=t}).catch(function(t){console.log(t),e.prefix=""});var t=this.modelList.filter(function(e){return!e.event});this.callForm.modelData=t.filter(function(e){return"<init>"!==e.name}),this.addressInfo=Object(f["e"])(1),setInterval(function(){e.addressInfo=Object(f["e"])(1)},500)},mounted:function(){var e=this;setTimeout(function(){e.getBalanceByAddress(Object(f["f"])(),1,e.addressInfo.address)},600)},watch:{modelList:function(e){var t=e.filter(function(e){return!e.event});this.callForm.modelData=t.filter(function(e){return"<init>"!==e.name})},addressInfo:function(e,t){e.address!==t.address&&t.address&&this.getBalanceByAddress(Object(f["f"])(),1,this.addressInfo.address)},gasNumber:function(e,t){t&&this.oldGasNumber>e?this.gasTips=!0:this.gasTips=!1}},methods:{changeModel:function(e){this.oldGasNumber=0,this.callResult="",this.callForm.parameterList=[];var t=this.callForm.modelData[e];this.selectionData=t,this.callForm.parameterList=Object(l["a"])(t.params),t.payable&&(this.callForm.senior=!0),t.view||(this.callForm.gas=1,this.callForm.values=0);var a=!0,r=!1,s=void 0;try{for(var n,c=this.callForm.parameterList[Symbol.iterator]();!(a=(n=c.next()).done);a=!0){var i=n.value;i.value&&(i.value="")}}catch(o){r=!0,s=o}finally{try{a||null==c.return||c.return()}finally{if(r)throw s}}this.newArgs=[],this.callForm.price=u.a.CONTRACT_MINIMUM_PRICE,this.selectionData.view||(0===this.selectionData.params.length?this.imputedContractCallGas(this.addressInfo.address,Number(Object(f["d"])(this.callForm.values,1e8)),this.contractAddress,this.selectionData.name,this.selectionData.desc,this.newArgs):(this.newArgs=Object(f["l"])(this.callForm.parameterList),this.newArgs.allParameter&&this.imputedContractCallGas(this.addressInfo.address,Number(Object(f["d"])(this.callForm.values,1e8)),this.contractAddress,this.selectionData.name,this.selectionData.desc,this.newArgs.args)))},changeParameter:function(){this.selectionData.view||this.selectionData.payable||this.chainMethodCall()},changeGas:function(){this.gasNumber=Number(this.callForm.gas)},submitForm:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return!1;if(t.selectionData.view){var r=[];0!==t.selectionData.params.length?(r=Object(f["l"])(t.callForm.parameterList,t.decimals),r.allParameter&&t.methodCall(t.contractAddress,t.selectionData.name,t.selectionData.desc,r.args)):t.methodCall(t.contractAddress,t.selectionData.name,t.selectionData.desc,r)}else 0!==t.selectionData.params.length?(t.newArgs=Object(f["l"])(t.callForm.parameterList),t.newArgs.allParameter&&t.imputedContractCallGas(t.addressInfo.address,Number(Object(f["d"])(t.callForm.values,1e8)),t.contractAddress,t.selectionData.name,t.selectionData.desc,t.newArgs.args)):t.imputedContractCallGas(t.addressInfo.address,Number(Object(f["d"])(t.callForm.values,1e8)),t.contractAddress,t.selectionData.name,t.selectionData.desc,t.newArgs),t.getBalanceByAddress(Object(f["f"])(),1,t.addressInfo.address),t.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(""!==t.addressInfo.aesPri){e.next=23;break}return e.next=4,Object(f["n"])(16);case 4:return t.txHexRandom=e.sent,e.next=7,Object(f["n"])(16);case 7:return t.signDataKeyRandom=e.sent,e.next=10,t.getAssemble();case 10:if(r=e.sent,r.success){e.next=14;break}return t.$message({message:t.$t("tips.tips3"),type:"error",duration:3e3}),e.abrupt("return");case 14:return e.next=16,Object(h["c"])(t.txHexRandom,t.signDataKeyRandom,t.addressInfo.address,r.data);case 16:if(s=e.sent,s.success){e.next=20;break}return t.$message({message:t.$t("tips.tips4")+JSON.stringify(s.data),type:"error",duration:3e3}),e.abrupt("return");case 20:t.$refs.password.showScan(s.data.txInfo,s.data.assembleHex),e.next=24;break;case 23:t.$refs.password.showPassword(!0);case 24:e.next=27;break;case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})},getAssemble:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Number(Object(f["d"])(this.callForm.gas,this.callForm.price)),a={fromAddress:this.addressInfo.address,assetsChainId:Object(f["f"])(),assetsId:1,amount:t,fee:1e5},t=Number(Object(f["c"])(a.fee,t)),this.callForm.values>0&&(a.toAddress=this.contractAddress,a.value=Number(Object(f["t"])(this.callForm.values)),a.amount=Number(Object(f["c"])(a.value,t))),r="",e.next=7,Object(h["j"])(a,this.balanceInfo,16);case 7:if(s=e.sent,s.success){e.next=11;break}return this.$message({message:s.data,type:"error",duration:3e3}),e.abrupt("return",{success:!1});case 11:return e.next=13,i.a.transactionAssemble(s.data.inputs,s.data.outputs,r,16,this.contractCallData);case 13:if(n=e.sent,l=Object(h["e"])(n,1),a.fee===l){e.next=26;break}return a.fee=l,e.next=19,Object(h["j"])(a,this.balanceInfo,16);case 19:if(s=e.sent,s.success){e.next=23;break}return this.$message({message:s.data,type:"error",duration:3e3}),e.abrupt("return",{success:!1});case 23:return e.next=25,i.a.transactionAssemble(s.data.inputs,s.data.outputs,r,16,this.contractCallData);case 25:n=e.sent;case 26:return e.abrupt("return",{success:!0,data:n});case 27:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methodCall:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,s){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","invokeView",[t,a,r,s]).then(function(e){e.hasOwnProperty("result")?n.callResult=e.result.result:"err_0014"===e.error.code?n.$message({message:n.$t("call.call8")+e.error.data,type:"error",duration:1e3}):n.$message({message:n.$t("call.call8")+e.error.message,type:"error",duration:1e3})}).catch(function(e){n.$message({message:n.$t("call.call9")+e,type:"error",duration:1e3})});case 2:case"end":return e.stop()}},e,this)}));function t(t,a,r,s){return e.apply(this,arguments)}return t}(),chainMethodCall:function(){var e=[];this.callForm.price=u.a.CONTRACT_MINIMUM_PRICE,0!==this.selectionData.params.length?(e=Object(f["l"])(this.callForm.parameterList,this.decimals),e.allParameter&&this.validateContractCall(this.addressInfo.address,Number(Object(f["d"])(this.callForm.values,1e8)),u.a.CONTRACT_MAX_GASLIMIT,u.a.CONTRACT_MINIMUM_PRICE,this.contractAddress,this.selectionData.name,this.selectionData.desc,e.args)):this.validateContractCall(this.addressInfo.address,Number(Object(f["d"])(this.callForm.values,1e8)),u.a.CONTRACT_MAX_GASLIMIT,u.a.CONTRACT_MINIMUM_PRICE,this.contractAddress,this.selectionData.name,this.selectionData.desc,e)},validateContractCall:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,s,n,l,c,i){var o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","validateContractCall",[t,a,r,s,n,l,c,i]).then(function(e){e.result.success?o.imputedContractCallGas(t,a,n,l,c,i):o.$message({message:o.$t("call.call6")+e.result.msg,type:"error",duration:2e3})}).catch(function(e){o.$message({message:o.$t("call.call7")+e,type:"error",duration:2e3})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a,r,s,n,l,c,i){return e.apply(this,arguments)}return t}(),imputedContractCallGas:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r,s,l,c){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","imputedContractCallGas",[t,a,r,s,l,c]).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n){var o,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n.hasOwnProperty("result")){e.next=14;break}return i.gasNumber=n.result.gasLimit,i.oldGasNumber=n.result.gasLimit,i.callForm.gas=n.result.gasLimit,e.next=6,i.getContractMethodArgsTypes(r,s,l);case 6:if(o=e.sent,o.success){e.next=10;break}return i.$message({message:i.$t("call.call4")+n,type:"error",duration:3e3}),e.abrupt("return");case 10:u=m.a.twoDimensionalArray(c,o.data),i.contractCallData={chainId:Object(f["f"])(),sender:t,contractAddress:r,value:a,gasLimit:i.callForm.gas,price:i.callForm.price,methodName:s,methodDesc:l,args:u},e.next=15;break;case 14:i.$message({message:i.$t("call.call4")+n,type:"error",duration:3e3});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){i.$message({message:i.$t("call.call5")+JSON.stringify(e),type:"error",duration:3e3})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a,r,s,n,l){return e.apply(this,arguments)}return t}(),getContractMethodArgsTypes:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","getContractMethodArgsTypes",[t,a,r]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,a,r){return e.apply(this,arguments)}return t}(),getBalanceByAddress:function(e,t,a){var r=this;Object(h["g"])(e,t,a).then(function(e){e.success?r.balanceInfo=e.data:r.$message({message:r.$t("public.err2")+e,type:"error",duration:3e3})}).catch(function(e){r.$message({message:r.$t("public.err3")+e,type:"error",duration:3e3})})},passSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,s,n,l,c,o,u,d,m,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.a.decrypteOfAES(this.addressInfo.aesPri,t),r=i.a.importByKey(Object(f["f"])(),a,t,this.prefix),r.address!==this.addressInfo.address){e.next=37;break}return s=this.addressInfo.pub,n=Number(Object(f["d"])(this.callForm.gas,this.callForm.price)),l={fromAddress:this.addressInfo.address,assetsChainId:Object(f["f"])(),assetsId:1,amount:n,fee:1e5},n=Number(Object(f["c"])(l.fee,n)),this.callForm.values>0&&(l.toAddress=this.contractAddress,l.value=Number(Object(f["t"])(this.callForm.values)),l.amount=Number(Object(f["c"])(l.value,n))),c="",e.next=11,Object(h["j"])(l,this.balanceInfo,16);case 11:return o=e.sent,e.next=14,i.a.transactionAssemble(o.data.inputs,o.data.outputs,c,16,this.contractCallData);case 14:if(u=e.sent,d="",m=Object(h["e"])(u,1),l.fee===m){e.next=30;break}return l.fee=m,e.next=21,Object(h["j"])(l,this.balanceInfo,16);case 21:return o=e.sent,e.next=24,i.a.transactionAssemble(o.data.inputs,o.data.outputs,c,16,this.contractCallData);case 24:return u=e.sent,e.next=27,i.a.transactionSerialize(a,s,u);case 27:d=e.sent,e.next=33;break;case 30:return e.next=32,i.a.transactionSerialize(a,s,u);case 32:d=e.sent;case 33:return e.next=35,Object(h["l"])(d).then(function(e){e.success?p.callResult=e:"err_0014"===e.data.code?p.$message({message:e.data.message,type:"error",duration:3e3}):p.$message({message:p.$t("error."+e.data.code),type:"error",duration:3e3})}).catch(function(e){p.$message({message:p.$t("public.err1")+e,type:"error",duration:3e3})});case 35:e.next=38;break;case 37:this.$message({message:this.$t("address.address13"),type:"error",duration:3e3});case 38:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},b=g,v=(a("08e3"),a("2877")),y=Object(v["a"])(b,r,s,!1,null,null,null);t["a"]=y.exports},7429:function(e,t,a){},"7f7f":function(e,t,a){var r=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,l="name";l in s||a("9e1e")&&r(s,l,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},e065:function(module,exports,__webpack_require__){"use strict";function valueOfstring(e){return null===e?null:e.toString()}function isBlank(e){return null===e||0===e.trim().length}module.exports={stringToByte:function(e){var t=[],a=void 0,r=void 0;a=e.length;for(var s=0;s<a;s++)r=e.charCodeAt(s),r>=65536&&r<=1114111?(t.push(r>>18&7|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(63&r|128)):r>=2048&&r<=65535?(t.push(r>>12&15|224),t.push(r>>6&63|128),t.push(63&r|128)):r>=128&&r<=2047?(t.push(r>>6&31|192),t.push(63&r|128)):t.push(255&r);return t},twoDimensionalArray:function twoDimensionalArray(args,types){if(0===args.length)return null;if(args.length!==types.length)throw"args number error";for(var length=args.length,two=new Array(length),arg=void 0,i=0;i<length;i++)if(arg=args[i],null!=arg)if("string"===typeof arg){var argStr=arg;if(null!=types&&isBlank(argStr)&&"String"!==types[i])two[i]=[];else if(null!=types&&!isBlank(argStr)&&types[i].indexOf("[]")>=0){var arrayArg=eval(argStr);if(!Array.isArray(arrayArg))throw"array arg error";for(var len=arrayArg.length,result=new Array(len),k=0;k<len;k++)result[k]=valueOfstring(arrayArg[k]);two[i]=result}else two[i]=[argStr]}else if(Array.isArray(arg)){for(var _len=arg.length,_result=new Array(_len),_k=0;_k<_len;_k++)_result[_k]=valueOfstring(arg[_k]);two[i]=_result}else two[i]=[valueOfstring(arg)];else two[i]=[];return two}}}}]);
//# sourceMappingURL=chunk-392b933a.2864f2ac.js.map