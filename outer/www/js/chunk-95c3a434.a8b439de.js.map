{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./src/api/requestData.js","webpack:///./src/components/BackBar.vue?895b","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/components/BackBar.vue?9b89","webpack:///src/components/BackBar.vue","webpack:///./src/components/BackBar.vue?cff0","webpack:///./src/components/BackBar.vue?361d","webpack:///./src/views/users/EditPassword.vue?2cd9","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./src/views/users/EditPassword.vue?f0c9","webpack:///src/views/users/EditPassword.vue","webpack:///./src/views/users/EditPassword.vue?e7bb","webpack:///./src/views/users/EditPassword.vue?2e22","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","isMainNet","chainId","MAIN_INFO","countFee","tx","signatrueCount","txSize","txSerialize","Math","ceil","countCtxFee","_x","_x2","_countCtxFee","apply","this","arguments","_callee","resultValue","regeneratorRuntime","wrap","_context","prev","next","post","toString","then","response","hasOwnProperty","value","catch","error","console","log","abrupt","stop","inputsOrOutputs","_x3","_x4","_x5","_inputsOrOutputs","_callee2","transferInfo","balanceInfo","type","newAmount","newLocked","newNonce","newoutputAmount","newLockTime","times","inputs","nulsbalance","outputs","_context2","Number","Plus","amount","fee","nonce","depositHash","substring","Date","valueOf","substr","address","fromAddress","assetsChainId","assetsId","locked","chainID","getNulsBalance","sent","data","balance","success","toAddress","lockTime","parse","_getNulsBalance","_callee3","assetChainId","assetId","_args3","_context3","validateTx","_x6","_validateTx","_callee4","txHex","_context4","broadcastTx","_x7","_broadcastTx","_callee5","_context5","validateAndBroadcast","_x8","_validateAndBroadcast","_callee6","_context6","newHash","hash","agentDeposistList","_x9","_agentDeposistList","_callee7","agentHash","_context7","getContractConstructor","_x10","_getContractConstructor","_callee8","contractCodeHex","_context8","constructor","getAllAddressPrefix","_getAllAddressPrefix","_callee9","newData","_context9","addressPrefix","sessionStorage","removeItem","setItem","JSON","stringify","getPrefixByChainId","_x11","_getPrefixByChainId","_callee10","prefixData","newInfo","_context10","getItem","find","v","getScanAutograph","_x12","_getScanAutograph","_callee12","randomString","_context12","_ref","Object","_blockchain_Tdatt_datt_datt_module_web_wallet_wallet_ui_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","mark","_callee11","_context11","pubkey","signData","_x17","commitData","_x13","_x14","_x15","_x16","_commitData","_callee13","txHexKey","signDataKey","assembleHex","parameterValue","_context13","getHash","txInfo","url","localStorage","urls","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BackBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BackBar_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","$export","$find","KEY","forced","Array","P","F","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","backUrl","on","click","back","_v","_s","backTitle","staticRenderFns","BackBarvue_type_script_lang_js_","props","String","default","backParams","methods","$router","go","name","components_BackBarvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPassword_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditPassword_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","speciesConstructor","original","$t","$route","query","ref","model","passwordForm","status-icon","rules","passwordRules","label","prop","autocomplete","callback","$$v","$set","expression","$event","submitPasswordForm","toUrl","EditPasswordvue_type_script_lang_js_","_this","validateOldPass","rule","patrn","Error","exec","checkPass","$refs","validateField","validateNewPass","oldPass","newPass","validateChechPass","addressInfo","validator","trigger","editAddressInfo","prefix","created","_this2","requestData","util","err","mounted","components","BackBar","formName","_this3","oldAddressInfo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","item","return","validate","valid","pri","nuls_sdk_js_default","a","decrypteOfAES","aesPri","newAddressInfo","importByKey","importAddressInfo","pub","addressList","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","$message","message","duration","users_EditPasswordvue_type_script_lang_js_","isObject","isArray","SPECIES","C","prototype"],"mappings":"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","file":"js/chunk-95c3a434.a8b439de.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","import {post} from './https'\nimport {Plus, chainID} from './util'\nimport {MAIN_INFO} from '@/config.js'\n\n/**\n * 判断是否为主网\n * @param chainId\n **/\nexport function isMainNet(chainId) {\n  return chainId === MAIN_INFO.chainId;\n}\n\n/**\n * 计算手续费\n * @param tx\n * @param signatrueCount 签名数量，默认为1\n **/\nexport function countFee(tx, signatrueCount) {\n  let txSize = tx.txSerialize().length;\n  txSize += signatrueCount * 110;\n  return 100000 * Math.ceil(txSize / 1024);\n}\n\n/**\n * 计算跨链交易手续费\n * @param tx\n * @param signatrueCount 签名数量，默认为1\n **/\nexport async function countCtxFee(tx, signatrueCount) {\n  let resultValue = 0;\n  await post('/', 'getByzantineCount', [tx.txSerialize().toString('hex')])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let txSize = tx.txSerialize().length;\n        txSize += (signatrueCount + response.result.value) * 110;\n        resultValue = 1000000 * Math.ceil(txSize / 1024)\n      } else {\n        resultValue = -100\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      resultValue = -100\n    });\n  return resultValue;\n}\n\n/**\n * 获取inputs and outputs\n * @param transferInfo\n * @param balanceInfo\n * @param type\n * @returns {*}\n **/\nexport async function inputsOrOutputs(transferInfo, balanceInfo, type) {\n  let newAmount = Number(Plus(transferInfo.amount, transferInfo.fee));\n  let newLocked = 0;\n  let newNonce = balanceInfo.nonce;\n  let newoutputAmount = transferInfo.amount;\n  let newLockTime = 0;\n  if (type === 4) {\n    newLockTime = -1;\n  } else if (type === 5) {\n    newLockTime = -1;\n  } else if (type === 6) {\n    newAmount = transferInfo.amount;\n    newLocked = -1;\n    newNonce = transferInfo.depositHash.substring(transferInfo.depositHash.length - 16);\n    newoutputAmount = transferInfo.amount - transferInfo.fee;\n  } else if (type === 9) {\n    newAmount = transferInfo.amount;\n    newLocked = -1;\n    newNonce = transferInfo.depositHash.substring(transferInfo.depositHash.length - 16);\n    newoutputAmount = transferInfo.amount - transferInfo.fee;\n    //锁定三天\n    //let times = (new Date()).valueOf() + 3600000 * 72;\n    let times = (new Date()).valueOf();\n    newLockTime = Number(times.toString().substr(0, times.toString().length - 3));\n    //newLockTime = times;\n  } else {\n    //return {success: false, data: \"No transaction type\"}\n  }\n\n  let inputs = [{\n    address: transferInfo.fromAddress,\n    assetsChainId: transferInfo.assetsChainId,\n    assetsId: transferInfo.assetsId,\n    amount: newAmount,\n    locked: newLocked,\n    nonce: newNonce\n  }];\n\n  if (type === 2 && transferInfo.assetsChainId !== chainID()) {\n    inputs[0].amount = transferInfo.amount;\n    //账户转出资产余额\n    let nulsbalance = await getNulsBalance(chainID(), 1, transferInfo.fromAddress);\n    //console.log(nulsbalance);\n    if (nulsbalance.data.balance < 100000) {\n      console.log(\"余额小于手续费\");\n      return\n    }\n    inputs.push({\n      address: transferInfo.fromAddress,\n      assetsChainId: chainID(),\n      assetsId: 1,\n      amount: 100000,\n      locked: newLocked,\n      nonce: nulsbalance.data.nonce\n    })\n  }\n  let outputs = [];\n  if (type === 15 || type === 17) {\n    return {success: true, data: {inputs: inputs, outputs: outputs}};\n  }\n  if (type === 16) {\n    inputs[0].amount = Number(Plus(transferInfo.amount, 100000));\n    if (transferInfo.toAddress) {\n      if (transferInfo.value) { //向合约地址转nuls\n        //inputs[0].amount = transferInfo.amount;\n        outputs = [{\n          address: transferInfo.toAddress,\n          assetsChainId: transferInfo.assetsChainId,\n          assetsId: transferInfo.assetsId,\n          amount: transferInfo.value,\n          lockTime: newLockTime\n        }];\n      }\n    }\n    return {success: true, data: {inputs: inputs, outputs: outputs}};\n  }\n\n  if (transferInfo.times && type === 2) {\n    newLockTime = Date.parse(transferInfo.times) / 1000\n  }\n\n  outputs = [{\n    address: transferInfo.toAddress ? transferInfo.toAddress : transferInfo.fromAddress,\n    assetsChainId: transferInfo.assetsChainId,\n    assetsId: transferInfo.assetsId,\n    amount: newoutputAmount,\n    lockTime: newLockTime\n  }];\n  /*console.log(inputs);\n  console.log(outputs);*/\n  return {success: true, data: {inputs: inputs, outputs: outputs}};\n}\n\n/**\n * 获取账户的余额及nonce\n * @param assetChainId\n * @param assetId\n * @param address\n * @returns {Promise<any>}\n */\nexport async function getNulsBalance(assetChainId = 2, assetId = 1, address) {\n  return await post('/', 'getAccountBalance', [assetChainId, assetId, address])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: {balance: response.result.balance, nonce: response.result.nonce}}\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 验证交易\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function validateTx(txHex) {\n  return await post('/', 'validateTx', [txHex])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 广播交易\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function broadcastTx(txHex) {\n  return await post('/', 'broadcastTx', [txHex])\n    .then((response) => {\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 验证交易并广播\n * @param txHex\n * @returns {Promise<any>}\n **/\nexport async function validateAndBroadcast(txHex) {\n  return await post('/', 'validateTx', [txHex])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let newHash = response.result.value;\n        return post('/', 'broadcastTx', [txHex])\n          .then((response) => {\n            //console.log(response);\n            if (response.hasOwnProperty(\"result\")) {\n              return {success: true, hash: newHash};\n            } else {\n              return {success: false, data: response.error};\n            }\n          })\n          .catch((error) => {\n            return {success: false, data: error};\n          });\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取节点的委托列表\n * @param agentHash\n * @returns {Promise<any>}\n **/\nexport async function agentDeposistList(agentHash) {\n  return await post('/', 'getConsensusDeposit', [1, 300, agentHash])\n    .then((response) => {\n      return response.result;\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取合约代码构造函数\n * @param contractCodeHex\n * @returns {Promise<any>}\n */\nexport async function getContractConstructor(contractCodeHex) {\n  return await post('/', 'getContractConstructor', [contractCodeHex])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        return {success: true, data: response.result.constructor};\n      } else {\n        return {success: false, data: response.error};\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error};\n    });\n}\n\n/**\n * 获取链ID对应的前缀\n * @returns {Promise<any>}\n */\nexport async function getAllAddressPrefix() {\n  let newData = [\n    {chainId: 1, addressPrefix: 'NULS'},\n    {chainId: 2, addressPrefix: 'tNULS'},\n  ];\n  await post('/', 'getAllAddressPrefix', [])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        if (sessionStorage.hasOwnProperty('prefixData')) {\n          sessionStorage.removeItem('prefixData')\n        }\n        sessionStorage.setItem('prefixData', JSON.stringify(response.result));\n      } else {\n        sessionStorage.setItem('prefixData', JSON.stringify(newData));\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      sessionStorage.setItem('prefixData', JSON.stringify(newData));\n    });\n}\n\n//根据链ID获取前缀\nexport async function getPrefixByChainId(chainId) {\n  await getAllAddressPrefix();\n  let prefixData = JSON.parse(sessionStorage.getItem('prefixData'));\n  if (prefixData) {\n    let newInfo = prefixData.find((v) => {\n      return v.chainId === chainId;\n    });\n    return newInfo.addressPrefix;\n  } else {\n    return '';\n  }\n}\n\n/**\n * @disc: 获取扫描后签名信息\n * @params: importRandomString\n * @date: 2019-12-02 16:39\n * @author: Wave\n */\nexport async function getScanAutograph(randomString) {\n  return await post('/', 'getMsg', [randomString])\n    .then(async (response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\") && response.result.pubkey) {\n        if (response.result.pubkey && response.result.signData) {\n          return {success: true, data: {signData: response.result.signData, pubkey: response.result.pubkey}}\n        } else {\n          return {success: true, data: {}}\n        }\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error}\n    });\n}\n\n/**\n * @disc: 发送消息到后台\n * @params: key,value\n * @date: 2019-12-02 16:39\n * @author: Wave\n */\nexport async function commitData(txHexKey, signDataKey, address, assembleHex) {\n  let parameterValue = {\n    address: address,\n    hash: assembleHex.getHash().toString('hex'),\n    txHex: assembleHex.txSerialize().toString(\"hex\")\n  };\n  return await post('/', 'commitMsg', [txHexKey, parameterValue])\n    .then((response) => {\n      //console.log(response);\n      if (response.hasOwnProperty(\"result\")) {\n        let txInfo = {\n          url: localStorage.hasOwnProperty('url') ? JSON.parse(localStorage.getItem('url')).urls : 'https://beta.wallet.nuls.io/api',\n          txHexKey: txHexKey,\n          signDataKey: signDataKey,\n        };\n        /*console.log(txInfo);\n        console.log(parameterValue.hash);\n        console.log(parameterValue.txHex);*/\n        return {success: true, data: {txInfo: txInfo, assembleHex: assembleHex}}\n      } else {\n        return {success: false, data: response}\n      }\n    })\n    .catch((error) => {\n      return {success: false, data: error}\n    });\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=style&index=0&lang=less&\"","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"back\",attrs:{\"backUrl\":_vm.backUrl}},[_c('span',{staticClass:\"back-box\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_c('span',[_vm._v(_vm._s(_vm.backTitle))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"back\" :backUrl=\"backUrl\">\n      <span class=\"back-box\" @click=\"back\"><i class=\"el-icon-arrow-left\"></i><span>{{backTitle}}</span></span>\n    </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      backTitle: {\n        type: String,\n        default: \"\"\n      },\n      backUrl: {\n        type: String,\n        default: \"1\"\n      },\n      backParams: {\n        type: String,\n        default: ''\n      }\n    },\n    methods: {\n      back() {\n        if (this.backUrl === \"1\") {\n          this.$router.go(-1);\n        } else {\n          this.$router.push({\n            name: this.backUrl,\n          })\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" type=\"text/less\">\n  @import url(\"../assets/css/style.less\");\n    .back {\n      font-size: 16px;\n      cursor: pointer;\n      margin: 10px 0;\n      height: 20px;\n      text-align: left;\n      width: 200px;\n      &:hover{\n        color:@Hcolour;\n       }\n    }\n  @media screen and (max-width: 768px) {\n    .back {\n      margin: 10px 0;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackBar.vue?vue&type=template&id=233962a8&\"\nimport script from \"./BackBar.vue?vue&type=script&lang=js&\"\nexport * from \"./BackBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BackBar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPassword.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPassword.vue?vue&type=style&index=0&lang=less&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new_address bg-gray\"},[_c('div',{staticClass:\"bg-white\"},[_c('div',{staticClass:\"w1200\"},[_c('BackBar',{attrs:{\"backTitle\":_vm.$t('address.address0')}}),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('editPassword.editPassword0'))+\": \"+_vm._s(this.$route.query.address))])],1)]),_c('div',{staticClass:\"new w1200 mt_20 bg-white\"},[_c('div',{staticClass:\"w630\"},[_c('h3',{staticClass:\"tc mzt_20\"}),_c('el-form',{ref:\"passwordForm\",staticClass:\"mb_20\",attrs:{\"model\":_vm.passwordForm,\"status-icon\":\"\",\"rules\":_vm.passwordRules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('editPassword.editPassword1'),\"prop\":\"oldPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passwordForm.oldPass),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"oldPass\", $$v)},expression:\"passwordForm.oldPass\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('editPassword.editPassword2'),\"prop\":\"newPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passwordForm.newPass),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"newPass\", $$v)},expression:\"passwordForm.newPass\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('editPassword.editPassword3'),\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passwordForm.checkPass),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"checkPass\", $$v)},expression:\"passwordForm.checkPass\"}})],1),_c('el-form-item',{staticClass:\"form-next\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.submitPasswordForm('passwordForm')}}},[_vm._v(_vm._s(_vm.$t('editPassword.editPassword4'))+\"\\n          \")]),_c('div',[_vm._v(_vm._s(_vm.$t('editPassword.editPassword5'))),_c('span',{staticClass:\"click\",on:{\"click\":function($event){return _vm.toUrl('newAddress')}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.re-import')))])])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"new_address bg-gray\">\n    <div class=\"bg-white\">\n      <div class=\"w1200\">\n        <BackBar :backTitle=\"$t('address.address0')\"></BackBar>\n        <h3 class=\"title\">{{$t('editPassword.editPassword0')}}: {{this.$route.query.address}}</h3>\n      </div>\n    </div>\n    <div class=\"new w1200 mt_20 bg-white\">\n      <div class=\"w630\">\n        <h3 class=\"tc mzt_20\"></h3>\n        <el-form :model=\"passwordForm\" status-icon :rules=\"passwordRules\" ref=\"passwordForm\" class=\"mb_20\">\n          <el-form-item :label=\"$t('editPassword.editPassword1')\" prop=\"oldPass\">\n            <el-input type=\"password\" v-model=\"passwordForm.oldPass\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('editPassword.editPassword2')\" prop=\"newPass\">\n            <el-input type=\"password\" v-model=\"passwordForm.newPass\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item :label=\"$t('editPassword.editPassword3')\" prop=\"checkPass\">\n            <el-input type=\"password\" v-model=\"passwordForm.checkPass\" autocomplete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item class=\"form-next\">\n            <el-button type=\"success\" @click=\"submitPasswordForm('passwordForm')\">{{$t('editPassword.editPassword4')}}\n            </el-button>\n            <div>{{$t('editPassword.editPassword5')}}<span class=\"click\" @click=\"toUrl('newAddress')\"> {{$t('public.re-import')}}</span>\n            </div>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import nuls from 'nuls-sdk-js'\n  import BackBar from '@/components/BackBar'\n  import {addressInfo, chainIdNumber,chainID} from '@/api/util'\n  import {getPrefixByChainId} from '@/api/requestData'\n\n  export default {\n    data() {\n      let validateOldPass = (rule, value, callback) => {\n        let patrn = /^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{8,20}$/;\n        if (value === '') {\n          callback(new Error(this.$t('editPassword.editPassword6')));\n        } else if (!patrn.exec(value)) {\n          callback(new Error(this.$t('editPassword.editPassword7')));\n        } else {\n          if (this.passwordForm.checkPass !== '') {\n            this.$refs.passwordForm.validateField('newPass');\n          }\n          callback();\n        }\n      };\n      let validateNewPass = (rule, value, callback) => {\n        let patrn = /^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{8,20}$/;\n        if (value === '') {\n          callback(new Error(this.$t('editPassword.editPassword8')));\n        } else if (!patrn.exec(value)) {\n          callback(new Error(this.$t('editPassword.editPassword7')));\n        } else if (this.passwordForm.oldPass === this.passwordForm.newPass) {\n          callback(new Error(this.$t('editPassword.editPassword9')));\n        } else {\n          if (this.passwordForm.checkPass !== '') {\n            this.$refs.passwordForm.validateField('checkPass');\n          }\n          callback();\n        }\n      };\n      let validateChechPass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error(this.$t('editPassword.editPassword10')));\n        } else if (this.passwordForm.checkPass !== this.passwordForm.newPass) {\n          callback(new Error(this.$t('editPassword.editPassword11')));\n        } else {\n          callback();\n        }\n      };\n      return {\n        addressInfo: {},//默认账户信息\n        passwordForm: {\n          oldPass: '',\n          newPass: '',\n          checkPass: '',\n        },\n        passwordRules: {\n          oldPass: [\n            {validator: validateOldPass, trigger: 'blur'}\n          ],\n          newPass: [\n            {validator: validateNewPass, trigger: 'blur'}\n          ],\n          checkPass: [\n            {validator: validateChechPass, trigger: 'blur'}\n          ]\n        },\n        editAddressInfo: '',//新建的地址信息\n        prefix: '',//地址前缀\n      };\n    },\n    created() {\n      getPrefixByChainId(chainID()).then((response) => {\n        //console.log(response);\n        this.prefix = response\n      }).catch((err) => {\n        console.log(err);\n        this.prefix = '';\n      });\n    },\n    mounted() {\n    },\n    components: {\n      BackBar\n    },\n    methods: {\n\n      /**\n       * 修改密码\n       * @param formName\n       */\n      submitPasswordForm(formName) {\n        let address = this.$route.query.address;\n        let oldAddressInfo = {};\n        for (let item of addressInfo(0)) {\n          if (item.address === address) {\n            oldAddressInfo = item\n          }\n        }\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            const pri = nuls.decrypteOfAES(oldAddressInfo.aesPri, this.passwordForm.oldPass);\n            const newAddressInfo = nuls.importByKey(chainID(), pri, this.passwordForm.oldPass,this.prefix);\n            if (newAddressInfo.address === address) {\n              const importAddressInfo = nuls.importByKey(chainID(), pri, this.passwordForm.newPass,this.prefix);\n              oldAddressInfo.aesPri = importAddressInfo.aesPri;\n              oldAddressInfo.pub = importAddressInfo.pub;\n              let addressList = addressInfo(0);\n              for (let item of addressList) {\n                if (item.address === oldAddressInfo.address) {\n                  item.aesPri = oldAddressInfo.aesPri\n                }\n              }\n              localStorage.setItem(chainIdNumber(), JSON.stringify(addressList));\n              this.$message({message: this.$t('editPassword.editPassword12'), type: 'success', duration: 1000});\n              this.toUrl(\"address\");\n            } else {\n              this.$message({message: this.$t('editPassword.editPassword13'), type: 'error', duration: 1000});\n            }\n          } else {\n            return false;\n          }\n        });\n      },\n\n      /**\n       * 连接跳转\n       * @param name\n       */\n      toUrl(name) {\n        if (name === 'newAddress') {\n          this.$router.push({\n            name: name,\n            query: {address: this.$route.query.address}\n          })\n        } else {\n          this.$router.push({\n            name: name,\n          })\n        }\n\n      },\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  @import \"./../../assets/css/style\";\n\n  .new_address {\n    .new {\n      border: @BD1;\n      .step {\n        height: 50px;\n        margin: 100px 140px 0 140px;\n        li {\n          float: left;\n          width: 20%;\n          height: 50px;\n          text-align: center;\n          .dotted {\n            margin: 20px 0 0 0;\n            border-bottom: 2px dotted @Dcolour;\n          }\n          .Ndotted {\n            border-bottom-color: @Ncolour;\n          }\n          .Ncolor {\n            color: @Ncolour;\n          }\n          .ico {\n            i {\n              font-size: 30px;\n            }\n          }\n        }\n\n      }\n      .tip {\n        margin: 40px auto;\n        padding: 20px 30px;\n        p {\n          i {\n            width: 5px;\n            height: 5px;\n            display: block;\n            float: left;\n            margin: 9px 10px 0 0;\n            border-radius: 5px;\n            background: #000000;\n          }\n        }\n      }\n      .step_tow {\n        .title {\n          height: 30px;\n          line-height: 30px;\n          margin: 40px auto 0;\n        }\n        .tip {\n          margin: 40px auto;\n        }\n        .btn {\n          .el-button--info {\n            margin: 50px 0 20px 0 !important;\n          }\n        }\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPassword.vue?vue&type=template&id=dbdef862&\"\nimport script from \"./EditPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPassword.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}